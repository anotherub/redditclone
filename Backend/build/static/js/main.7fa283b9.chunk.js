(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{137:function(e,t,a){e.exports=a(169)},146:function(e,t,a){},147:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},148:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),i=a(13),l=(a(146),a(121)),s=(a(147),a(148),a(15)),u=a(5),m=a.n(u),p=a(8),d=a(12),f=a(232),h=a(217),v=a(229),b=a(218),g=a(230),E=a(66),y=a.n(E),j=a(70),x=a(213),O=a(214),w=a(20),k=a(46),C=a.n(k);C.a.defaults.withCredentials=!0,C.a.defaults.baseURL="http://localhost:3001";var P={"Content-Type":"application/json",Accept:"application/json"},I=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.a.get(t,{headers:P}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(p.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.a.post(t,a,{headers:P}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.a.delete(t,{headers:P}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=Object(w.b)("loginStore/signup",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,e.next=4,S("/api/v1/users/register",t);case 4:return r=e.sent,o=r.data,e.abrupt("return",o);case 9:if(e.prev=9,e.t0=e.catch(1),c=e.t0.response){e.next=14;break}throw e.t0;case 14:return e.abrupt("return",n(c.data));case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),R=Object(w.b)("loginStore/signin",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,console.log("XX",JSON.stringify(t)),e.next=5,S("/api/v1/users/authenticate",JSON.stringify(t));case 5:return r=e.sent,e.abrupt("return",r);case 9:if(e.prev=9,e.t0=e.catch(1),o=e.t0.response){e.next=14;break}throw e.t0;case 14:return e.abrupt("return",n(o));case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),W=Object(w.c)({name:"loginStore",initialState:{isAuthenticated:null,userInfo:{}},reducers:{testAction:function(e,t){var a=t.payload;console.log("".concat(Date.now()," - TEST ACTION: "),a.msg)},signout:function(e,t){t.payload;localStorage.setItem("isLoggedIn","false"),localStorage.removeItem("username")}},extraReducers:function(e){e.addCase(L.fulfilled,(function(e,t){t.payload})),e.addCase(L.rejected,(function(e,t){console.log("signup ERROR",t)})),e.addCase(R.fulfilled,(function(e,t){var a=t.payload,n=a.data;a.status?(e.isAuthenticated=!0,e.userInfo=n,localStorage.setItem("username",n.data.username)):e.isAuthenticated=!1})),e.addCase(R.rejected,(function(e,t){console.log("signin ERROR occured",t)}))}}),D=W.actions,F=(D.testAction,D.signout),T=W.reducer,U=a(231),A=a(35);function V(){return r.a.createElement(j.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 Umesh Bhat ",(new Date).getFullYear(),".")}var B=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function _(){var e=Object(n.useState)("umeshbhat"),t=Object(d.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)("umeshbhat"),l=Object(d.a)(c,2),u=l[0],E=l[1],x=Object(n.useState)(!1),w=Object(d.a)(x,2),k=w[0],C=w[1],P=B(),I=Object(i.b)(),S=Object(s.g)(),N=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,r,c,i,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C(!1),n={username:a,password:u},e.next=5,I(R(n));case 5:r=e.sent,c=r.payload.data,i=c.status,l=void 0!==i&&i,c.data,!1===l?(C(!0),o(""),E("")):(localStorage.setItem("isLoggedIn","true"),S.replace("/"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(O.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:P.paper},r.a.createElement(f.a,{className:P.avatar},r.a.createElement(y.a,null)),r.a.createElement(j.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:P.form,onSubmit:N},r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"username",name:"username",autoComplete:"username",autoFocus:!0,value:a,onChange:function(e){o(e.target.value)}}),r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:u,autoComplete:"current-password",onChange:function(e){E(e.target.value)}}),k&&r.a.createElement(U.a,{severity:"error",style:{justifyContent:"center",margin:"auto auto"}},"Incorrect credentials.Please try again"),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:P.submit},"Sign In"),r.a.createElement(b.a,{container:!0},r.a.createElement(b.a,{item:!0,xs:!0},r.a.createElement(A.a,{href:"#",variant:"body2",style:{textDecoration:"none"}},"Forgot password?")),r.a.createElement(b.a,{item:!0},r.a.createElement(A.a,{style:{textDecoration:"none"},to:"/signup"},"Don't have an account? Sign Up"))))),r.a.createElement(g.a,{mt:8},r.a.createElement(V,null)))}var z=function(){return r.a.createElement(j.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 Umesh Bhat ",(new Date).getFullYear(),".")},M=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function q(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(null),l=Object(d.a)(c,2),s=l[0],u=l[1],E=Object(n.useState)(null),x=Object(d.a)(E,2),w=x[0],k=x[1],C=Object(n.useState)(null),P=Object(d.a)(C,2),I=P[0],S=P[1],N=M(),R=Object(i.b)(),W=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={firstName:a,lastName:s,username:w,password:I},e.next=4,R(L(n));case 4:r=e.sent,o=r.payload,o.status,c=o.message,alert(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(O.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:N.paper},r.a.createElement(f.a,{className:N.avatar},r.a.createElement(y.a,null)),r.a.createElement(j.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:N.form,onSubmit:W},r.a.createElement(b.a,{container:!0,spacing:2},r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement(v.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",onChange:function(e){o(e.target.value)},autoFocus:!0})),r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){u(e.target.value)}})),r.a.createElement(b.a,{item:!0,xs:12},r.a.createElement(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",onChange:function(e){k(e.target.value)}})),r.a.createElement(b.a,{item:!0,xs:12},r.a.createElement(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){S(e.target.value)}}))),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:N.submit},"Sign Up"),r.a.createElement(b.a,{container:!0,justify:"center"},r.a.createElement(b.a,{item:!0},r.a.createElement(A.a,{style:{textDecoration:"none"},to:"/signin"},"Already have an account? Sign in"))))),r.a.createElement(g.a,{mt:5},r.a.createElement(z,null)))}var J=Object(w.b)("postStore/postQuestion",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,e.next=4,S("/api/v1/user/posts/post",t);case 4:return r=e.sent,o=r.data,e.abrupt("return",o);case 9:if(e.prev=9,e.t0=e.catch(1),c=e.t0.response){e.next=14;break}throw e.t0;case 14:return e.abrupt("return",n(c.data));case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),H=Object(w.b)("postStore/deletePost",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,e.next=4,N("/api/v1/user/posts/".concat(t,"/delete"),t);case 4:return r=e.sent,o=r.data,e.abrupt("return",{data:o,id:t});case 9:if(e.prev=9,e.t0=e.catch(1),c=e.t0.response){e.next=14;break}throw e.t0;case 14:return e.abrupt("return",n(c.data));case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),Q=Object(w.b)("postStore/likePost",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,e.next=4,S("/api/v1/user/posts/".concat(t,"/like"));case 4:return r=e.sent,e.abrupt("return",r);case 8:if(e.prev=8,e.t0=e.catch(1),o=e.t0.response){e.next=13;break}throw e.t0;case 13:return e.abrupt("return",n(o.data));case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()),X=Object(w.b)("postStore/unlikePost",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,e.next=4,N("/api/v1/user/posts/".concat(t,"/unlike"));case 4:return r=e.sent,o=r.data,e.abrupt("return",o);case 9:if(e.prev=9,e.t0=e.catch(1),c=e.t0.response){e.next=14;break}throw e.t0;case 14:return e.abrupt("return",n(c.data));case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),Y=Object(w.b)("postStore/getAllQuestion",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,e.next=4,I("/api/v1/user/posts/getall");case 4:return r=e.sent,o=r.data,e.abrupt("return",o);case 9:if(e.prev=9,e.t0=e.catch(1),c=e.t0.response){e.next=14;break}throw e.t0;case 14:return e.abrupt("return",n(c.data));case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),G=Object(w.b)("postStore/getPostById",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,e.next=4,I("/api/v1/user/posts/".concat(t,"/get"));case 4:return r=e.sent,o=r.data,e.abrupt("return",o);case 9:if(e.prev=9,e.t0=e.catch(1),c=e.t0.response){e.next=14;break}throw e.t0;case 14:return e.abrupt("return",n(c.data));case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),$=Object(w.b)("postStore/postComment",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r,o,c,i,l,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.postId,r=t.comment,o=t.parentCommentId,c=a.rejectWithValue,e.prev=2,e.next=5,S("/api/v1/user/posts/".concat(n,"/comment"),{comment:r,parentCommentId:o});case 5:return i=e.sent,l=i.data,e.abrupt("return",l);case 10:if(e.prev=10,e.t0=e.catch(2),s=e.t0.response){e.next=15;break}throw e.t0;case 15:return e.abrupt("return",c(s.data));case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,a){return e.apply(this,arguments)}}()),K=Object(w.c)({name:"PostStore",initialState:{posts:[],arePostLoaded:!1,eachPost:{}},reducers:{testAction:function(e,t){var a=t.payload;console.log("".concat(Date.now()," - TEST ACTION: "),a.msg)},addCommentToStore:function(e,t){var a,n=t.payload;(null===(a=e.eachPost[n.parentPostId].comments)||void 0===a?void 0:a.length)||(e.eachPost[n.parentPostId].comments=[]),e.eachPost[n.parentPostId].comments.push(n)}},extraReducers:function(e){e.addCase(J.fulfilled,(function(e,t){var a=t.payload.data;e.posts.unshift(a),e.eachPost[a._id]=a})),e.addCase(J.rejected,(function(e,t){console.log("posted unsuccessfully",t)})),e.addCase(G.fulfilled,(function(e,t){var a=t.payload.result;e.eachPost[a._id]=a;for(var n=null,r=null,o=0;o<a.likes.length;o++)if(localStorage.getItem("username")===a.likes[o].username){n=1,r=a.likes[o].like.toString();break}e.eachPost[a._id].isPostLiked=1==n&&r})),e.addCase(G.rejected,(function(e,t){console.log("loading failed",t)})),e.addCase(Q.fulfilled,(function(e,t){var a=t.payload,n=a.data,r=n.status,o=n.data;if(r){var c,i=a.data.data;"false"===(null===(c=e.eachPost[i.parentPostId])||void 0===c?void 0:c.isPostLiked)&&e.eachPost[i.parentPostId].totalDislikes--,e.eachPost[i.parentPostId].isPostLiked="true",e.eachPost[i.parentPostId].totalLikes=e.eachPost[i.parentPostId].totalLikes?e.eachPost[i.parentPostId].totalLikes++:1}else e.eachPost[o.parentPostId].totalLikes--,e.eachPost[o.parentPostId].isPostLiked=null})),e.addCase(Q.rejected,(function(e,t){})),e.addCase(X.fulfilled,(function(e,t){var a,n=t.payload,r=n.status,o=n.data;r?("true"===(null===(a=e.eachPost[o.parentPostId])||void 0===a?void 0:a.isPostLiked)&&e.eachPost[o.parentPostId].totalLikes--,e.eachPost[o.parentPostId].totalDislikes++,e.eachPost[o.parentPostId].isPostLiked="false",e.eachPost[o.parentPostId].totalDislikes=e.eachPost[o.parentPostId].totalDislikes?e.eachPost[o.parentPostId].totalDislikes++:1):(e.eachPost[o.parentPostId].totalDislikes--,e.eachPost[o.parentPostId].isPostLiked=null)})),e.addCase(X.rejected,(function(e,t){})),e.addCase(Y.fulfilled,(function(e,t){var a=t.payload.data;e.posts=a,e.arePostLoaded=!0})),e.addCase(Y.rejected,(function(e,t){})),e.addCase(H.fulfilled,(function(e,t){var a=t.payload,n=a.data.data,r=a.id;console.log("deletes ",n,r),1==(null===n||void 0===n?void 0:n.deletedCount)&&e.posts.splice(e.posts.findIndex((function(e){return e._id===r})),1)})),e.addCase($.rejected,(function(e,t){})),e.addCase($.fulfilled,(function(e,t){var a=t.payload;console.log("commented successfully",a)})),e.addCase(H.rejected,(function(e,t){console.log("Server error occured in deleting the post",t)}))}}),Z=K.actions,ee=(Z.testAction,Z.addCommentToStore),te=K.reducer,ae=Object(x.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}}));var ne=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],o=t[1],c=ae(),l=Object(i.b)(),s=(Object(i.c)((function(e){return e.login})).id,function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.length){e.next=3;break}return e.abrupt("return",alert("Post can not be empty!"));case 3:return n={post:a},e.next=6,l(J(n));case 6:o("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return r.a.createElement(O.a,{style:{width:"inherit"}},r.a.createElement(b.a,null,r.a.createElement(b.a,{conatiner:!0,item:!0,direction:"column"},r.a.createElement("form",{className:c.root,Validate:!0,autoComplete:"off"},r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(v.a,{id:"outlined-multiline-static",label:"Post what's on your mind!",multiline:!0,rows:6,defaultValue:a,variant:"outlined",placeholder:"Enter your post",onChange:function(e){o(e.target.value)},value:a,style:{width:"100%"}}),r.a.createElement(h.a,{variant:"contained",color:"Primary",onClick:s,style:{position:"absolute",bottom:"12px",right:"0px"}},"Submit"))))))},re=a(120),oe=a(31),ce=a(68),ie=a.n(ce),le=a(107),se=a.n(le),ue=a(106),me=a.n(ue),pe=a(109),de=a.n(pe),fe=a(108),he=a.n(fe),ve=a(110),be=a.n(ve),ge=a(111),Ee=a.n(ge),ye=a(69),je=a(3),xe=a(219),Oe=a(220),we=a(221),ke=a(222),Ce=a(216),Pe=a(104),Ie=a.n(Pe),Se=a(103),Ne=a.n(Se);var Le=function(e){var t=e.comment,a=e.refreshFunction,o=(e.postId,Object(n.useState)("")),c=Object(d.a)(o,2),l=c[0],s=c[1],u=Object(n.useState)(!1),f=Object(d.a)(u,2),b=f[0],g=f[1],E=Object(i.b)(),y=function(){var e=Object(p.a)(m.a.mark((function e(n){var r,o,c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),l.length){e.next=3;break}return e.abrupt("return",alert("comment can not be empty!"));case 3:return r={parentCommentId:t._id,comment:l,postId:t.parentPostId},e.next=6,E($(r));case 6:o=e.sent,c=o.payload,i=c.data,c.status&&(a(i),s(""));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){g(!b)};return r.a.createElement("div",{style:{marginLeft:"5px"}},r.a.createElement("hr",null),r.a.createElement(xe.a,null,r.a.createElement(Oe.a,null,r.a.createElement(j.a,{color:"primary",variant:"h6"},t.username),r.a.createElement(j.a,{variant:"body1",component:"p"},t.comment),r.a.createElement(j.a,{variant:"body2",component:"p"},ie()(t.time).format("h:mm:ss A"))),r.a.createElement("div",{style:{marginLeft:"5px"}},b?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:x},"Close",r.a.createElement(Ne.a,null)),r.a.createElement("form",{onSubmit:y},r.a.createElement("div",{style:{position:"relative",margin:"2px 5px"}},r.a.createElement(v.a,{id:"outlined-multiline-static",label:"Enter your reply",multiline:!0,rows:2,defaultValue:l,variant:"outlined",placeholder:"Be polite online!",onChange:function(e){s(e.target.value)},value:l,style:{width:"100%"}}),r.a.createElement(h.a,{variant:"contained",color:"Primary",onClick:y,style:{position:"absolute",bottom:"5px",right:"5px"}},"Reply")))):r.a.createElement("div",{style:{marginLeft:"10px"},onClick:x},"Reply",r.a.createElement(Ie.a,null)))))},Re=a(105),We=a.n(Re),De=Object(x.a)((function(e){return{root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},expand:{color:"black",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)",color:"#303F9F"}}}));var Fe=function e(t){var a=t.commentList,o=t.postId,c=t.refreshFunction,i=t.parentCommentId,l=Object(n.useState)(0),s=Object(d.a)(l,2),u=s[0],m=s[1],p=Object(n.useState)(!1),f=Object(d.a)(p,2),h=f[0],v=f[1],b=r.a.useState(!0),g=Object(d.a)(b,2),E=g[0],y=g[1],j=De();return Object(n.useEffect)((function(){var e=0;(null===a||void 0===a?void 0:a.length)&&a.map((function(t){t.parentCommentId==i&&e++,m(e)}))}),[null===a||void 0===a?void 0:a.length]),r.a.createElement("div",null,u>0&&r.a.createElement("div",{onClick:function(){v(!h),y(!E)},style:{fontSize:"14px",margin:"10px 10px",color:"gray",display:"flex",alignItems:"center"}},E?r.a.createElement("span",null,"view ",u," more ",u.length>1?"replies":"reply"):"Hide Replies",r.a.createElement(We.a,{className:Object(je.a)(j.expand,Object(oe.a)({},j.expandOpen,E))})),h&&(null===a||void 0===a?void 0:a.length)&&a.map((function(t,n){return r.a.createElement(r.a.Fragment,null,t.parentCommentId===i&&r.a.createElement("div",{style:{marginLeft:"30px",width:"90%"},className:j.root},r.a.createElement(Le,{comment:t,postId:o,refreshFunction:c}),r.a.createElement(e,{commentList:a,postId:o,parentCommentId:t._id,refreshFunction:c})))})))};var Te=function(e){var t=e.postId,a=e.refreshFunction,o=e.commentList,c=Object(n.useState)(""),l=Object(d.a)(c,2),s=l[0],u=l[1],f=Object(i.b)(),g=function(){var e=Object(p.a)(m.a.mark((function e(n){var r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),s.length){e.next=3;break}return e.abrupt("return",alert("Comment can not be empty!"));case 3:return e.next=5,f($({postId:t,comment:s}));case 5:r=e.sent,o=r.payload,c=o.data,o.status&&a(c),u("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(b.a,{style:{width:"inherit"}},r.a.createElement("br",null),r.a.createElement("span",{style:{marginLeft:"10px"}},(null===o||void 0===o?void 0:o.length)?"Total Reply:".concat(o.length):"Wow, it looks so empty!"),(null===o||void 0===o?void 0:o.length)>0&&o.map((function(e,n){return!e.parentCommentId&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Le,{comment:e,postId:t,refreshFunction:a}),r.a.createElement(Fe,{commentList:o,parentCommentId:e._id,postId:t,refreshFunction:a}))})),r.a.createElement("form",{onSubmit:g},r.a.createElement("div",{style:{position:"relative",margin:"10px 5px"}},r.a.createElement(v.a,{id:"outlined-multiline-static",label:"Comment what's on your mind!",multiline:!0,rows:2,defaultValue:s,variant:"outlined",placeholder:"Enter your comment",onChange:function(e){u(e.target.value)},value:s,style:{width:"100%"}}),r.a.createElement(h.a,{variant:"contained",color:"Primary",onClick:g,style:{position:"absolute",bottom:"5px",right:"5px"}},"Submit"))))},Ue=Object(x.a)((function(e){return{root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{}}}));function Ae(e){var t=e.content,a=Object(i.b)(),o=Object(n.useState)(!1),c=Object(d.a)(o,2),l=c[0],s=c[1],u=r.a.useState(!1),f=Object(d.a)(u,2),v=f[0],g=f[1],E=Object(i.c)((function(e){return e.posts})),y=null===E||void 0===E?void 0:E.eachPost[t._id],x=null===y||void 0===y?void 0:y.comments;Object(n.useEffect)((function(){(function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(G(t._id));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var O=Ue(),w=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,a(Q(t._id));case 3:s(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,a(X(t._id));case 3:s(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,a(H(t._id));case 3:s(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(b.a,{container:!0,direction:"column"},r.a.createElement(xe.a,{id:t._id,className:O.root,style:{margin:"20px 0",width:"100%"}},r.a.createElement(b.a,{item:!0},r.a.createElement(Oe.a,{style:{backgroundColor:"#E8E8E8"}},r.a.createElement(j.a,{color:"primary",variant:"h6"},t.username),r.a.createElement(j.a,{variant:"body2",component:"p"},t.post)),r.a.createElement(we.a,null,r.a.createElement(j.a,{variant:"body2",component:"p"},ie()(t.time).format("h:mm:ss A")),r.a.createElement(h.a,{size:"small",onClick:w,disabled:l},"true"===(null===y||void 0===y?void 0:y.isPostLiked)?r.a.createElement(me.a,null):r.a.createElement(se.a,null),(null===y||void 0===y?void 0:y.totalLikes)||0),r.a.createElement(h.a,{size:"small",onClick:k,disabled:l},"false"===(null===y||void 0===y?void 0:y.isPostLiked)?r.a.createElement(he.a,null):r.a.createElement(de.a,null),(null===y||void 0===y?void 0:y.totalDislikes)||0),r.a.createElement(Ce.a,{className:Object(je.a)(O.expand,Object(oe.a)({},O.expandOpen,v)),onClick:function(){g(!v)}},r.a.createElement(be.a,null),(null===y||void 0===y?void 0:y.totalComments)||0),r.a.createElement(h.a,{style:{visibility:Object(ye.getUsername)()===t.username?"visible":"hidden"},onClick:C,disabled:l},r.a.createElement(Ee.a,null)))),r.a.createElement(b.a,{item:!0},r.a.createElement(ke.a,{in:v,timeout:"auto",unmountOnExit:!0},r.a.createElement("hr",null),r.a.createElement(Te,{postId:t._id,refreshFunction:function(e){a(ee(e))},commentList:(null===x||void 0===x?void 0:x.length)>0?Object(re.a)(x).reverse():x})))))}var Ve=a(22),Be=a(225),_e=a(226),ze=a(233),Me=a(224),qe=a(223),Je=a(119),He=a(112),Qe=a.n(He),Xe=a(113),Ye=a.n(Xe),Ge=a(80),$e=a.n(Ge),Ke=a(78),Ze=a.n(Ke),et=a(79),tt=a.n(et),at=a(114),nt=a.n(at),rt=Object(x.a)((function(e){return{grow:{flexGrow:1,width:"100vw"},menuButton:{marginRight:e.spacing(2)},title:Object(oe.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(oe.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ve.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ve.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:10,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(oe.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(oe.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(oe.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function ot(){Object(s.g)();var e=Object(i.b)(),t=rt(),a=r.a.useState(null),n=Object(d.a)(a,2),o=n[0],c=n[1],l=r.a.useState(null),u=Object(d.a)(l,2),f=u[0],h=u[1],v=Boolean(o),b=Boolean(f),g=function(e){c(e.currentTarget)},E=function(){h(null)},y=function(){c(null),E()},x=function(){var t=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(F());case 2:window.location.reload();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O="primary-search-account-menu",w=r.a.createElement(Je.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:O,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:v,onClose:y},r.a.createElement(qe.a,{onClick:y},"Profile"),r.a.createElement(qe.a,{onClick:x},"Logout")),k=r.a.createElement(Je.a,{anchorEl:f,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:E},r.a.createElement(qe.a,null,r.a.createElement(Ce.a,{"aria-label":"show 4 new mails",color:"inherit"},r.a.createElement(Me.a,{badgeContent:4,color:"secondary"},r.a.createElement(Ze.a,null))),r.a.createElement("p",null,"Messages")),r.a.createElement(qe.a,null,r.a.createElement(Ce.a,{"aria-label":"show 11 new notifications",color:"inherit"},r.a.createElement(Me.a,{badgeContent:11,color:"secondary"},r.a.createElement(tt.a,null))),r.a.createElement("p",null,"Notifications")),r.a.createElement(qe.a,{onClick:g},r.a.createElement(Ce.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement($e.a,null)),r.a.createElement("p",null,"Profile")));return r.a.createElement("div",{className:t.grow},r.a.createElement(Be.a,{position:"fixed",style:{height:"60px"}},r.a.createElement(_e.a,null,r.a.createElement(Ce.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"open drawer"},r.a.createElement(Qe.a,null)),r.a.createElement("div",null,r.a.createElement(j.a,{className:t.title,variant:"h6",noWrap:!0},Object(ye.getUsername)())),r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(Ye.a,null)),r.a.createElement(ze.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement("div",{className:t.grow}),r.a.createElement("div",{className:t.sectionDesktop},r.a.createElement(Ce.a,{"aria-label":"show 4 new mails",color:"inherit"},r.a.createElement(Me.a,{badgeContent:4,color:"secondary"},r.a.createElement(Ze.a,null))),r.a.createElement(Ce.a,{"aria-label":"show 17 new notifications",color:"inherit"},r.a.createElement(Me.a,{badgeContent:17,color:"secondary"},r.a.createElement(tt.a,null))),r.a.createElement(Ce.a,{edge:"end","aria-label":"account of current user","aria-controls":O,"aria-haspopup":"true",onClick:g,color:"inherit"},r.a.createElement($e.a,null))),r.a.createElement("div",{className:t.sectionMobile},r.a.createElement(Ce.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){h(e.currentTarget)},color:"inherit"},r.a.createElement(nt.a,null))))),k,w)}var ct=a(115),it=Object(w.b)("UsersStore/getOtherUsers",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,e.next=4,I("/api/v1/users",JSON.stringify(t));case 4:return r=e.sent,e.abrupt("return",r);case 8:if(e.prev=8,e.t0=e.catch(1),o=e.t0.response){e.next=13;break}throw e.t0;case 13:return e.abrupt("return",n(o));case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()),lt=Object(w.b)("UsersStore/searchUserById",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,e.next=4,I("/api/v1/users/".concat(t));case 4:return r=e.sent,e.abrupt("return",r);case 8:if(e.prev=8,e.t0=e.catch(1),o=e.t0.response){e.next=13;break}throw e.t0;case 13:return e.abrupt("return",n(o));case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()),st=Object(w.c)({name:"UsersStore",initialState:{otherUsers:[]},extraReducers:function(e){e.addCase(it.fulfilled,(function(e,t){var a=t.payload.data,n=a.status,r=a.users;n&&(e.otherUsers=r)})),e.addCase(it.rejected,(function(e,t){console.log("signup ERROR",t)})),e.addCase(lt.fulfilled,(function(e,t){var a=t.payload,n=a.data;a.status;console.log("serach results are ",n)})),e.addCase(lt.rejected,(function(e,t){console.log("signup ERROR",t)}))}});Object(ct.a)(st.actions);var ut=st.reducer,mt=a(116),pt=a.n(mt),dt=Object(x.a)({root:{maxWidth:300},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});var ft=function(){var e,t=function(e){var t=e.info;return r.a.createElement(xe.a,{className:a.root},r.a.createElement(Oe.a,null,r.a.createElement(j.a,{color:"primary",variant:"h6",component:"h2"},t.username),r.a.createElement(j.a,{className:a.pos,color:"textSecondary"}),r.a.createElement(j.a,{variant:"body2",component:"p"},"".concat(t.firstName," ").concat(t.lastName))),r.a.createElement(we.a,null,r.a.createElement(h.a,{size:"small",style:{display:"flex",alignItems:"center"}},r.a.createElement("span",{style:{marginRight:"5px"}}," Add to friends"),r.a.createElement(pt.a,null))))},a=dt(),o=Object(i.c)((function(e){return e.users})),c=Object(i.b)();return Object(n.useEffect)((function(){c(it())}),[null===o||void 0===o?void 0:o.OtherUsers]),r.a.createElement(b.a,{container:!0,direction:"column",spacing:1},r.a.createElement(b.a,{item:!0},r.a.createElement("div",null,"People you might know")),null===o||void 0===o||null===(e=o.otherUsers)||void 0===e?void 0:e.map((function(e){return r.a.createElement(b.a,{item:!0},r.a.createElement(t,{info:e}))})))},ht=a(215),vt=a(171),bt=a(227),gt=a(228),Et=a(117),yt=a.n(Et),jt=a(118),xt=a.n(jt),Ot=Object(x.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper}}}));function wt(){Ot();return r.a.createElement(ht.a,{component:"nav","aria-label":"main mailbox folders "},r.a.createElement(vt.a,{button:!0},r.a.createElement(bt.a,null,r.a.createElement(yt.a,null)),r.a.createElement(gt.a,{primary:"Inbox"})),r.a.createElement(vt.a,{button:!0},r.a.createElement(bt.a,null,r.a.createElement(xt.a,null)),r.a.createElement(gt.a,{primary:"Drafts"})))}var kt=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.posts})),a=t.posts,o=t.arePostLoaded;return t.eachPost,Object(n.useEffect)((function(){(function(){var t=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(Y());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),r.a.createElement(b.a,{direction:"column",spacing:10,style:{flex:1,display:"flex",minHeight:"0px"}},r.a.createElement(b.a,{item:!0,xm:12},r.a.createElement(ot,null)),r.a.createElement(b.a,{container:!0,direction:"row",item:!0,xm:12,justify:"space-evenly",spacing:8,style:{position:"absolute",top:"60px"}},r.a.createElement(b.a,{item:!0,xs:2,lg:2,alignItems:"stretch",style:{borderRight:"1px solid lightgray"}},r.a.createElement(wt,null)),r.a.createElement(b.a,{item:!0,xs:8,lg:7,style:{}},r.a.createElement(b.a,{container:!0,direction:"column",style:{flex:1,overflow:"auto",minHeight:"0px"}},r.a.createElement(b.a,{item:!0},r.a.createElement(ne,null)),r.a.createElement(b.a,{item:!0},o&&a.map((function(e){return r.a.createElement(Ae,{content:e})}))))),r.a.createElement(b.a,{item:!0,xs:2,lg:3},r.a.createElement(ft,null))))};var Ct=function(){var e=function(){return r.a.createElement(s.d,null,r.a.createElement(t,{exact:!0,path:"/"},r.a.createElement(kt,null)),r.a.createElement(s.b,{exact:!0,path:"/signup"},a()?r.a.createElement(s.a,{to:"/"}):r.a.createElement(q,null)),r.a.createElement(s.b,{exact:!0,path:"/signin"},a()?r.a.createElement(s.a,{to:"/"}):r.a.createElement(_,null)),r.a.createElement(s.b,{path:"*"},a()?r.a.createElement(s.a,{to:"/"}):r.a.createElement(_,null)))},t=function(e){var t=e.children,n=Object(l.a)(e,["children"]);return r.a.createElement(s.b,Object.assign({},n,{render:function(e){var n=e.location;return a()?t:r.a.createElement(s.a,{to:{pathname:"/signin",state:{from:n}}})}}))},a=function(){return"true"==localStorage.getItem("isLoggedIn")};return r.a.createElement(e,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pt=a(27),It=a(55),St=Object(Pt.c)({login:T,posts:te,users:ut}),Nt=Object(w.a)({reducer:St,middleware:[It.a],devTools:!0}),Lt=a(23),Rt=Object(Lt.a)();c.a.render(r.a.createElement(i.a,{store:Nt},r.a.createElement(s.c,{history:Rt},r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ct,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,t){e.exports={getUsername:function(){return localStorage.getItem("username")}}}},[[137,1,2]]]);
//# sourceMappingURL=main.7fa283b9.chunk.js.map